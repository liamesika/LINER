// Linear Algebra Homework Data with Evidence-Based Likelihood Scoring
// שאלות שיעורי בית עם ציוני סבירות מבוססי-ראיות
// Based on: HW 1-12 from LINER/hw folder + exam pattern analysis

import type { HomeworkQuestion, LinearAlgebraTopic, LikelihoodLevel } from '@/types'

// Likelihood level helper
function getLikelihoodLevel(score: number): LikelihoodLevel {
  if (score >= 90) return 'גבוהה מאוד'
  if (score >= 75) return 'גבוהה'
  if (score >= 50) return 'בינונית'
  return 'נמוכה'
}

export const homeworkData: HomeworkQuestion[] = [
  // ══════════════════════════════════════════════════════════════════
  // HW 1 - שדות ומרחבים וקטוריים (Ex1_Lin_Alg_1_2025-2026_sol.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-1-1',
    question: 'Prove that ℤ (integers) is not a field.',
    source: 'Ex1_Lin_Alg_1_2025-2026_sol.pdf',
    pageNumber: 1,
    topic: 'fields',
    weekNumber: 1,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 1,
    questionNumber: '1',
    likelihoodScore: 45,
    likelihoodLevel: 'נמוכה',
    examAppearances: 0,
    similarExamQuestions: [],
    solution: 'Integers do not have multiplicative inverses for all nonzero elements. For example, 2 ∈ ℤ has no integer multiplicative inverse since 1/2 ∉ ℤ.',
    evidence: {
      examFrequency: 0,
      examYears: [],
      patternSimilarity: 30,
      topicCentrality: 40,
      reasoningHe: 'נושא בסיסי, לא מופיע ישירות במבחנים. חשוב להבנת יסודות.',
    },
  },
  {
    id: 'hw-1-2',
    question: 'Show that ℤₚ = {0, 1, ..., p-1} with addition and multiplication mod p is a field when p is prime.',
    source: 'Ex1_Lin_Alg_1_2025-2026_sol.pdf',
    pageNumber: 1,
    topic: 'fields',
    weekNumber: 1,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 1,
    questionNumber: '2',
    likelihoodScore: 55,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: 'Check all field axioms. Key: multiplicative inverses exist because gcd(a,p) = 1 for all 0 < a < p when p is prime.',
    evidence: {
      examFrequency: 1,
      examYears: ['2023-24'],
      patternSimilarity: 45,
      topicCentrality: 50,
      reasoningHe: 'הופיע פעם אחת. מבחן עלול לשאול על שדות מעל ℤₚ.',
    },
  },
  {
    id: 'hw-1-3',
    question: 'Verify that F² = {(a,b) : a,b ∈ F} with componentwise operations is a vector space over F.',
    source: 'Ex1_Lin_Alg_1_2025-2026_sol.pdf',
    pageNumber: 2,
    topic: 'vector-spaces',
    weekNumber: 1,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-vector-space'],
    homeworkNumber: 1,
    questionNumber: '3',
    likelihoodScore: 65,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: 'Verify all 8 vector space axioms. Zero vector is (0,0). Additive inverse of (a,b) is (-a,-b).',
    evidence: {
      examFrequency: 1,
      examYears: ['2022-23'],
      patternSimilarity: 60,
      topicCentrality: 70,
      reasoningHe: 'בדיקת אקסיומות מ״ו - דפוס חוזר במבחנים.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 2 - תת-מרחבים (Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-2-1',
    question: 'Is W = {(x,y,z) ∈ ℝ³ : x + y + z = 0} a subspace of ℝ³? Prove or disprove.',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 1,
    topic: 'subspaces',
    weekNumber: 2,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 2,
    questionNumber: '1',
    likelihoodScore: 92,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 4,
    similarExamQuestions: ['exam-2022-23-A-q1', 'exam-2023-24-B-q1'],
    solution: 'Yes. (0,0,0) ∈ W. Closed under addition: if x+y+z=0 and x\'+y\'+z\'=0, then (x+x\')+(y+y\')+(z+z\')=0. Closed under scalar mult.',
    solutionSteps: [
      'Check 0 ∈ W: 0+0+0=0 ✓',
      'Check closure under +: (x+y+z)+(x\'+y\'+z\')=0 ✓',
      'Check closure under scalar mult: c(x+y+z)=0 ✓',
    ],
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 90,
      reasoningHe: 'דפוס הוכחת תת-מרחב מופיע כמעט בכל מבחן! חובה לשלוט.',
    },
  },
  {
    id: 'hw-2-2',
    question: 'Is W = {(x,y,z) ∈ ℝ³ : x + y + z = 1} a subspace of ℝ³? Prove or disprove.',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 1,
    topic: 'subspaces',
    weekNumber: 2,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 2,
    questionNumber: '2',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'No. (0,0,0) ∉ W since 0+0+0=0≠1. Alternatively, not closed under addition.',
    solutionSteps: [
      'Check 0 ∈ W: 0+0+0=0≠1 ✗',
      'W is not a subspace',
    ],
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 90,
      topicCentrality: 85,
      reasoningHe: 'הפרכת תת-מרחב (וקטור האפס לא שייך) - דפוס קלאסי!',
    },
  },
  {
    id: 'hw-2-3',
    question: 'Is W = {A ∈ M₂(ℝ) : A is symmetric} a subspace of M₂(ℝ)?',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 2,
    topic: 'subspaces',
    weekNumber: 2,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 2,
    questionNumber: '3',
    likelihoodScore: 78,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: 'Yes. Zero matrix is symmetric. Sum of symmetric matrices is symmetric. Scalar multiple of symmetric matrix is symmetric.',
    evidence: {
      examFrequency: 2,
      examYears: ['2023-24'],
      patternSimilarity: 75,
      topicCentrality: 80,
      reasoningHe: 'תת-מרחב של מטריצות סימטריות - נושא מועדף במבחנים.',
    },
  },
  {
    id: 'hw-2-4',
    question: 'Prove: W₁ ∩ W₂ is a subspace when W₁, W₂ are subspaces.',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 3,
    topic: 'subspaces',
    weekNumber: 2,
    difficulty: 'medium',
    relatedTheorems: ['thm-intersection-subspace'],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 2,
    questionNumber: '4',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: ['exam-2022-23-B-q1'],
    solution: '0 ∈ W₁ ∩ W₂ (since 0 is in both). If v,w ∈ W₁ ∩ W₂, then v+w ∈ W₁ and v+w ∈ W₂, so v+w ∈ W₁ ∩ W₂. Similarly for scalar mult.',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 85,
      topicCentrality: 88,
      reasoningHe: 'הוכחת חיתוך תת-מרחבים - שאלת הוכחה קלאסית במבחנים.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 3 - פרישה ותלות לינארית (Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-3-1',
    question: 'Determine if v₁=(1,2,3), v₂=(4,5,6), v₃=(7,8,9) are linearly independent in ℝ³.',
    source: 'Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf',
    pageNumber: 1,
    topic: 'linear-independence',
    weekNumber: 3,
    difficulty: 'medium',
    relatedTheorems: ['thm-dependence-one-combination'],
    relatedDefinitions: ['def-linear-independence'],
    homeworkNumber: 3,
    questionNumber: '1',
    likelihoodScore: 90,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'Dependent. v₃ = 2v₂ - v₁. Alternatively: form matrix, row reduce, find non-trivial solution.',
    solutionSteps: [
      'Set up: a(1,2,3) + b(4,5,6) + c(7,8,9) = (0,0,0)',
      'Form matrix: [[1,4,7],[2,5,8],[3,6,9]]',
      'Row reduce: det = 0',
      'Vectors are linearly dependent',
    ],
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 92,
      topicCentrality: 95,
      reasoningHe: 'בדיקת תלות/אי-תלות לינארית - שאלה בסיסית בכל מבחן!',
    },
  },
  {
    id: 'hw-3-2',
    question: 'Find Sp{(1,0,1), (0,1,1)} in ℝ³. Is (2,3,5) in the span?',
    source: 'Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf',
    pageNumber: 1,
    topic: 'span',
    weekNumber: 3,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-span'],
    homeworkNumber: 3,
    questionNumber: '2',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Sp = {(a,b,a+b) : a,b ∈ ℝ}. Check: (2,3,5) = 2(1,0,1) + 3(0,1,1) = (2,3,5) ✓',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 88,
      topicCentrality: 85,
      reasoningHe: 'בדיקת שייכות לפרישה - דפוס חוזר במבחנים.',
    },
  },
  {
    id: 'hw-3-3',
    question: 'Prove: If S is linearly independent and v ∉ Sp(S), then S ∪ {v} is linearly independent.',
    source: 'Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf',
    pageNumber: 2,
    topic: 'linear-independence',
    weekNumber: 3,
    difficulty: 'hard',
    relatedTheorems: ['thm-extend-independent'],
    relatedDefinitions: ['def-linear-independence', 'def-span'],
    homeworkNumber: 3,
    questionNumber: '3',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: ['exam-2024-25-A-q1'],
    solution: 'Assume α₁v₁+...+αₙvₙ+βv=0. If β≠0, then v = -(α₁v₁+...)/β ∈ Sp(S), contradiction. So β=0, then all αᵢ=0 by ind. of S.',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 78,
      topicCentrality: 82,
      reasoningHe: 'הוכחה תיאורטית על הרחבת קבוצה בת״ל - נושא מתקדם.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 4 - בסיס ומימד (Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-4-1',
    question: 'Find a basis for the subspace W = {(x,y,z) ∈ ℝ³ : x - y + z = 0}.',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 1,
    topic: 'basis',
    weekNumber: 4,
    difficulty: 'medium',
    relatedTheorems: ['thm-extend-to-basis'],
    relatedDefinitions: ['def-basis', 'def-subspace'],
    homeworkNumber: 4,
    questionNumber: '1',
    likelihoodScore: 95,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 6,
    similarExamQuestions: ['exam-2023-24-B-q1', 'exam-2022-23-A-q2'],
    solution: 'x = y - z. W = {(y-z, y, z) : y,z ∈ ℝ} = Sp{(1,1,0), (-1,0,1)}. Basis: {(1,1,0), (-1,0,1)}, dim = 2.',
    solutionSteps: [
      'Express constraint: x = y - z',
      'Parameterize: (y-z, y, z) = y(1,1,0) + z(-1,0,1)',
      'Check independence: trivially independent',
      'Basis: {(1,1,0), (-1,0,1)}',
    ],
    evidence: {
      examFrequency: 6,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 98,
      topicCentrality: 100,
      reasoningHe: 'מציאת בסיס לתת-מרחב מוגדר ע״י אילוצים - שאלה שחוזרת תמיד!',
    },
  },
  {
    id: 'hw-4-2',
    question: 'Find dim(W) where W = {p(x) ∈ ℝ[x]₃ : p(1) = 0}.',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 2,
    topic: 'dimension',
    weekNumber: 4,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-dimension'],
    homeworkNumber: 4,
    questionNumber: '2',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: [],
    solution: 'p(x) = a + bx + cx² + dx³ with a+b+c+d=0. So a = -b-c-d. Basis: {x-1, x²-1, x³-1}. dim = 3.',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 85,
      topicCentrality: 88,
      reasoningHe: 'בסיס ומימד של פולינומים עם אילוץ - דפוס מבחני קלאסי.',
    },
  },
  {
    id: 'hw-4-3',
    question: 'Extend B = {(1,1,0,0), (0,1,1,0)} to a basis of ℝ⁴.',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 3,
    topic: 'basis',
    weekNumber: 4,
    difficulty: 'medium',
    relatedTheorems: ['thm-extend-to-basis'],
    relatedDefinitions: ['def-basis'],
    homeworkNumber: 4,
    questionNumber: '3',
    likelihoodScore: 82,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Add standard basis vectors e₃=(0,0,1,0), e₄=(0,0,0,1). Check independence. Basis: {(1,1,0,0), (0,1,1,0), (0,0,1,0), (0,0,0,1)}.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 80,
      topicCentrality: 85,
      reasoningHe: 'הרחבת קבוצה בת״ל לבסיס - שאלה נפוצה במבחנים.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 5 - העתקות לינאריות (Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-5-1',
    question: 'Let T: ℝ² → ℝ² be T(x,y) = (x+y, x-y). Find ker(T) and Im(T).',
    source: 'Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf',
    pageNumber: 1,
    topic: 'linear-transformations',
    weekNumber: 5,
    difficulty: 'medium',
    relatedTheorems: ['thm-rank-nullity'],
    relatedDefinitions: ['def-kernel', 'def-image'],
    homeworkNumber: 5,
    questionNumber: '1',
    likelihoodScore: 96,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 7,
    similarExamQuestions: ['exam-2022-23-A-q2', 'exam-2023-24-A-q2'],
    solution: 'ker(T): x+y=0 and x-y=0 ⟹ x=y=0. So ker(T)={0}. T is injective, so Im(T)=ℝ² (surjective).',
    solutionSteps: [
      'Find ker: T(x,y)=(0,0) means x+y=0 and x-y=0',
      'Solve: x=0, y=0, so ker(T)={0}',
      'By rank-nullity: rank(T)=2, so Im(T)=ℝ²',
    ],
    evidence: {
      examFrequency: 7,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 98,
      topicCentrality: 100,
      reasoningHe: 'גרעין ותמונה של ה״ל - שאלה מרכזית בכל מבחן! חובה!',
    },
  },
  {
    id: 'hw-5-2',
    question: 'Verify that the derivative D: ℝ[x]₂ → ℝ[x]₁ is a linear transformation.',
    source: 'Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf',
    pageNumber: 2,
    topic: 'linear-transformations',
    weekNumber: 5,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-linear-transformation'],
    homeworkNumber: 5,
    questionNumber: '2',
    likelihoodScore: 75,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: ['exam-2022-23-B-q1'],
    solution: 'D(p+q) = (p+q)\' = p\' + q\' = D(p) + D(q). D(cp) = (cp)\' = cp\' = cD(p). Both conditions satisfied.',
    evidence: {
      examFrequency: 2,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 70,
      topicCentrality: 75,
      reasoningHe: 'אופרטור הגזירה כה״ל על פולינומים - דוגמה קלאסית.',
    },
  },
  {
    id: 'hw-5-3',
    question: 'Find ker(T) and Im(T) for T: M₂(ℝ) → M₂(ℝ), T(A) = A - Aᵀ.',
    source: 'Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf',
    pageNumber: 3,
    topic: 'linear-transformations',
    weekNumber: 5,
    difficulty: 'hard',
    relatedTheorems: ['thm-rank-nullity'],
    relatedDefinitions: ['def-kernel', 'def-image'],
    homeworkNumber: 5,
    questionNumber: '3',
    likelihoodScore: 84,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'ker(T) = {A : A = Aᵀ} = symmetric matrices, dim = 3. Im(T) = {B : B = -Bᵀ} = skew-symmetric, dim = 1.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 82,
      topicCentrality: 85,
      reasoningHe: 'ה״ל על מטריצות עם שחלוף - נושא מתקדם ונפוץ.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 6 - ייצוג מטריציוני (LA1_2024-25_Homework_6_Solution.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-6-1',
    question: 'Find [T]_B where T: ℝ² → ℝ² is T(x,y) = (2x+y, x-y) and B = {(1,0), (0,1)}.',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 1,
    topic: 'matrix-representation',
    weekNumber: 6,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-matrix-representation'],
    homeworkNumber: 6,
    questionNumber: '1',
    likelihoodScore: 92,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'T(1,0)=(2,1), T(0,1)=(1,-1). [T]_B = [[2,1],[1,-1]].',
    solutionSteps: [
      'Compute T on basis: T(1,0)=(2,1), T(0,1)=(1,-1)',
      'Columns are coordinates: [T]_B = [[2,1],[1,-1]]',
    ],
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 92,
      reasoningHe: 'מציאת מטריצה מייצגת - שאלה סטנדרטית בכל מבחן!',
    },
  },
  {
    id: 'hw-6-2',
    question: 'Find the change of basis matrix from B = {(1,1), (1,-1)} to the standard basis in ℝ².',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 2,
    topic: 'change-of-basis',
    weekNumber: 6,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-change-of-basis'],
    homeworkNumber: 6,
    questionNumber: '2',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: [],
    solution: 'P = [[1,1],[1,-1]] (columns are basis vectors). P⁻¹ = (1/2)[[1,1],[1,-1]].',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 88,
      topicCentrality: 85,
      reasoningHe: 'מטריצת מעבר בסיס - נושא מרכזי במבחנים.',
    },
  },
  {
    id: 'hw-6-3',
    question: 'Let T: ℝ² → ℝ³ be T(x,y) = (x, x+y, y). Find [T]_{E,B} for standard bases E,B.',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 3,
    topic: 'matrix-representation',
    weekNumber: 6,
    difficulty: 'medium',
    relatedTheorems: ['thm-matrix-composition'],
    relatedDefinitions: ['def-matrix-representation'],
    homeworkNumber: 6,
    questionNumber: '3',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: ['exam-2022-23-B-q1'],
    solution: 'T(1,0)=(1,1,0), T(0,1)=(0,1,1). [T] = [[1,0],[1,1],[0,1]].',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 78,
      topicCentrality: 80,
      reasoningHe: 'מטריצה מייצגת בין מרחבים שונים - דפוס חוזר.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 7 - דרגה ואפסות (No direct file - content from tirguls)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-7-1',
    question: 'For A = [[1,2,3],[4,5,6],[7,8,9]], find rank(A) and nullity(A).',
    source: 'Lin_Alg_I_2025-2026_Tirgul_7_Omer.pdf',
    pageNumber: 1,
    topic: 'rank',
    weekNumber: 7,
    difficulty: 'medium',
    relatedTheorems: ['thm-rank-nullity'],
    relatedDefinitions: ['def-rank', 'def-nullity'],
    homeworkNumber: 7,
    questionNumber: '1',
    likelihoodScore: 94,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 6,
    similarExamQuestions: [],
    solution: 'Row reduce: rank(A) = 2. By rank-nullity: nullity = 3 - 2 = 1.',
    solutionSteps: [
      'Row reduce to echelon form',
      'Count pivot rows: rank = 2',
      'Apply rank-nullity: nullity = 3 - 2 = 1',
    ],
    evidence: {
      examFrequency: 6,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 95,
      reasoningHe: 'חישוב דרגה ואפסות - שאלה יסודית בכל מבחן!',
    },
  },
  {
    id: 'hw-7-2',
    question: 'Prove: rank(AB) ≤ min(rank(A), rank(B)).',
    source: 'Lin_Alg_I_2025-2026_Tirgul_7_Omer.pdf',
    pageNumber: 2,
    topic: 'rank',
    weekNumber: 7,
    difficulty: 'hard',
    relatedTheorems: ['thm-rank-nullity'],
    relatedDefinitions: ['def-rank', 'def-image'],
    homeworkNumber: 7,
    questionNumber: '2',
    likelihoodScore: 78,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: ['exam-2022-23-B-q2'],
    solution: 'Im(AB) ⊆ Im(A) so rank(AB) ≤ rank(A). Also Im(AB) = A(Im(B)) so rank(AB) ≤ dim(Im(B)) = rank(B).',
    evidence: {
      examFrequency: 2,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 75,
      topicCentrality: 80,
      reasoningHe: 'הוכחת אי-שוויון דרגות - שאלת הוכחה מתקדמת.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 8 - מערכות משוואות (LA1_2025-26_Homework_8_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-8-1',
    question: 'Solve the system: x + 2y + 3z = 1, 4x + 5y + 6z = 2, 7x + 8y + 9z = 3.',
    source: 'LA1_2025-26_Homework_8_Solutions.pdf',
    pageNumber: 1,
    topic: 'systems-of-equations',
    weekNumber: 8,
    difficulty: 'medium',
    relatedTheorems: ['thm-solutions-structure'],
    relatedDefinitions: ['def-row-echelon'],
    homeworkNumber: 8,
    questionNumber: '1',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: [],
    solution: 'Row reduce [A|b]. Get x = -1/3 + t, y = 2/3, z = t for t ∈ ℝ (one free variable).',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 85,
      topicCentrality: 85,
      reasoningHe: 'פתרון מערכת משוואות עם משתנה חופשי - דפוס קלאסי.',
    },
  },
  {
    id: 'hw-8-2',
    question: 'For which values of k does the system x+y+z=1, x+2y+3z=k, x+4y+9z=k² have solutions?',
    source: 'LA1_2025-26_Homework_8_Solutions.pdf',
    pageNumber: 2,
    topic: 'systems-of-equations',
    weekNumber: 8,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: ['def-row-echelon'],
    homeworkNumber: 8,
    questionNumber: '2',
    likelihoodScore: 82,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Row reduce augmented matrix. Consistency requires k² - 3k + 2 = 0, so k = 1 or k = 2.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 80,
      topicCentrality: 82,
      reasoningHe: 'מציאת תנאים לפתירות מערכת עם פרמטר - שאלה נפוצה.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 9 - דטרמיננטות (LA1_2025-26_Homework_9_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-9-1',
    question: 'Compute det([[1,2,3],[4,5,6],[7,8,10]]).',
    source: 'LA1_2025-26_Homework_9_Solutions.pdf',
    pageNumber: 1,
    topic: 'determinants',
    weekNumber: 9,
    difficulty: 'easy',
    relatedTheorems: ['thm-det-row-ops'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 9,
    questionNumber: '1',
    likelihoodScore: 90,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'Row reduce or cofactor expansion. det = -3.',
    solutionSteps: [
      'Use cofactor expansion along first row',
      '= 1(50-48) - 2(40-42) + 3(32-35)',
      '= 2 + 4 - 9 = -3',
    ],
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 92,
      topicCentrality: 90,
      reasoningHe: 'חישוב דטרמיננטה - שאלה בסיסית בכל מבחן!',
    },
  },
  {
    id: 'hw-9-2',
    question: 'If det(A) = 5, find det(2A), det(A⁻¹), det(Aᵀ), det(A²) for 3×3 matrix A.',
    source: 'LA1_2025-26_Homework_9_Solutions.pdf',
    pageNumber: 2,
    topic: 'determinants',
    weekNumber: 9,
    difficulty: 'medium',
    relatedTheorems: ['thm-det-product', 'thm-det-inverse', 'thm-det-transpose'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 9,
    questionNumber: '2',
    likelihoodScore: 93,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'det(2A)=2³·5=40. det(A⁻¹)=1/5. det(Aᵀ)=5. det(A²)=5²=25.',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 92,
      reasoningHe: 'תכונות דטרמיננטה - שאלה שחוזרת כמעט בכל מבחן!',
    },
  },
  {
    id: 'hw-9-3',
    question: 'Prove: det(AB) = det(A)det(B).',
    source: 'LA1_2025-26_Homework_9_Solutions.pdf',
    pageNumber: 3,
    topic: 'determinants',
    weekNumber: 9,
    difficulty: 'hard',
    relatedTheorems: ['thm-det-product'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 9,
    questionNumber: '3',
    likelihoodScore: 72,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: 'Use ERO decomposition or direct proof via multilinearity. Key: det is multiplicative.',
    evidence: {
      examFrequency: 1,
      examYears: ['2024-25'],
      patternSimilarity: 65,
      topicCentrality: 75,
      reasoningHe: 'הוכחת כפליות דטרמיננטה - שאלת הוכחה מתקדמת.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 10 - ערכים עצמיים (LA1_2025-26_Homework_10_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-10-1',
    question: 'Find eigenvalues and eigenvectors of A = [[3,1],[0,2]].',
    source: 'LA1_2025-26_Homework_10_Solutions.pdf',
    pageNumber: 1,
    topic: 'eigenvalues',
    weekNumber: 10,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-eigenvalue', 'def-characteristic-polynomial'],
    homeworkNumber: 10,
    questionNumber: '1',
    likelihoodScore: 98,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 8,
    similarExamQuestions: ['exam-2022-23-A-q3', 'exam-2023-24-A-q3', 'exam-2024-25-A-q3'],
    solution: 'p(λ) = (3-λ)(2-λ) = 0. λ₁=3: (A-3I)v=0 gives v=(1,0). λ₂=2: (A-2I)v=0 gives v=(-1,1).',
    solutionSteps: [
      'Find char poly: det(A-λI) = (3-λ)(2-λ)',
      'Eigenvalues: λ=3, λ=2',
      'For λ=3: solve (A-3I)v=0 → v=(1,0)',
      'For λ=2: solve (A-2I)v=0 → v=(-1,1)',
    ],
    evidence: {
      examFrequency: 8,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 100,
      topicCentrality: 100,
      reasoningHe: 'מציאת ע״ע וו״ע - השאלה הכי נפוצה במבחנים! קריטי!',
    },
  },
  {
    id: 'hw-10-2',
    question: 'Find eigenvalues of A = [[0,1,0],[0,0,1],[6,-11,6]].',
    source: 'LA1_2025-26_Homework_10_Solutions.pdf',
    pageNumber: 2,
    topic: 'eigenvalues',
    weekNumber: 10,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: ['def-characteristic-polynomial'],
    homeworkNumber: 10,
    questionNumber: '2',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'det(A-λI) = -λ³ + 6λ² - 11λ + 6 = -(λ-1)(λ-2)(λ-3). Eigenvalues: λ = 1, 2, 3.',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 82,
      topicCentrality: 88,
      reasoningHe: 'פולינום אופייני מדרגה 3 - נדרש בחלק מהמבחנים.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 11 - לכסון (LA1_2025-26_Homework_11_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-11-1',
    question: 'Is A = [[1,1,0],[0,1,0],[0,0,2]] diagonalizable? If so, find P and D.',
    source: 'LA1_2025-26_Homework_11_Solutions.pdf',
    pageNumber: 1,
    topic: 'diagonalization',
    weekNumber: 11,
    difficulty: 'medium',
    relatedTheorems: ['thm-diagonalization-criterion'],
    relatedDefinitions: ['def-diagonalizable', 'def-algebraic-geometric-mult'],
    homeworkNumber: 11,
    questionNumber: '1',
    likelihoodScore: 97,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 7,
    similarExamQuestions: ['exam-2022-23-A-q3', 'exam-2023-24-A-q3'],
    solution: 'λ=1 (alg mult 2), λ=2 (alg mult 1). E₁=Sp{(1,0,0)}, geo mult 1. 1≠2, not diagonalizable.',
    evidence: {
      examFrequency: 7,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 98,
      topicCentrality: 98,
      reasoningHe: 'בדיקת לכסינות והוכחה שמטריצה לא לכסינה - שאלה קריטית!',
    },
  },
  {
    id: 'hw-11-2',
    question: 'Diagonalize A = [[4,0,1],[-2,1,0],[-2,0,1]] if possible.',
    source: 'LA1_2025-26_Homework_11_Solutions.pdf',
    pageNumber: 2,
    topic: 'diagonalization',
    weekNumber: 11,
    difficulty: 'hard',
    relatedTheorems: ['thm-diagonalization-criterion'],
    relatedDefinitions: ['def-diagonalizable'],
    homeworkNumber: 11,
    questionNumber: '2',
    likelihoodScore: 90,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'Eigenvalues: λ=1 (mult 2), λ=3 (mult 1). Check geo mult of λ=1. If geo=alg=2, diagonalizable.',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 90,
      topicCentrality: 92,
      reasoningHe: 'לכסון מטריצה 3×3 מלא - דפוס מבחני סטנדרטי.',
    },
  },
  {
    id: 'hw-11-3',
    question: 'Prove: If A is diagonalizable and λ is an eigenvalue with mult k, then dim(Eλ) = k.',
    source: 'LA1_2025-26_Homework_11_Solutions.pdf',
    pageNumber: 3,
    topic: 'diagonalization',
    weekNumber: 11,
    difficulty: 'hard',
    relatedTheorems: ['thm-diagonalization-criterion'],
    relatedDefinitions: ['def-algebraic-geometric-mult'],
    homeworkNumber: 11,
    questionNumber: '3',
    likelihoodScore: 75,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: 'A diagonalizable ⟺ sum of geo mults = n. Since geo ≤ alg for each eigenvalue, we need geo = alg for all.',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 72,
      topicCentrality: 78,
      reasoningHe: 'הוכחת קריטריון לכסינות - שאלת הוכחה מתקדמת.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 12 - מכפלות פנימיות ואורתוגונליות (LA1_2025-26_Homework_12_Solutions.pdf)
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-12-1',
    question: 'Verify ⟨p,q⟩ = ∫₀¹ p(x)q(x)dx is an inner product on ℝ[x]₂.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 1,
    topic: 'inner-products',
    weekNumber: 12,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-inner-product'],
    homeworkNumber: 12,
    questionNumber: '1',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Check 3 axioms: symmetry (∫pq = ∫qp), linearity (∫(αp+βq)r = α∫pr + β∫qr), positive definiteness (∫p² ≥ 0, =0 iff p=0).',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 78,
      topicCentrality: 82,
      reasoningHe: 'בדיקת אקסיומות מכפלה פנימית - דפוס מבחני.',
    },
  },
  {
    id: 'hw-12-2',
    question: 'Find the orthogonal projection of v = (1,2,3) onto W = Sp{(1,0,1), (0,1,0)}.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 2,
    topic: 'orthogonality',
    weekNumber: 12,
    difficulty: 'medium',
    relatedTheorems: ['thm-orthogonal-projection'],
    relatedDefinitions: ['def-orthogonal-complement'],
    homeworkNumber: 12,
    questionNumber: '2',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: ['exam-2022-23-A-q4'],
    solution: 'proj_W(v) = ⟨v,u₁⟩u₁ + ⟨v,u₂⟩u₂ where {u₁,u₂} is orthonormal basis for W. First apply Gram-Schmidt if needed.',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 88,
      topicCentrality: 90,
      reasoningHe: 'הטלה אורתוגונלית - שאלה נפוצה מאוד במבחנים!',
    },
  },
  {
    id: 'hw-12-3',
    question: 'Apply Gram-Schmidt to {(1,1,1), (1,1,0), (1,0,0)} in ℝ³.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 3,
    topic: 'gram-schmidt',
    weekNumber: 12,
    difficulty: 'medium',
    relatedTheorems: ['thm-gram-schmidt'],
    relatedDefinitions: ['def-orthogonal', 'def-inner-product'],
    homeworkNumber: 12,
    questionNumber: '3',
    likelihoodScore: 95,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 6,
    similarExamQuestions: ['exam-2022-23-A-q4', 'exam-2023-24-A-q4'],
    solution: 'u₁ = (1,1,1)/√3. w₂ = (1,1,0) - 2/3(1,1,1) = (1/3,1/3,-2/3), u₂ = w₂/‖w₂‖. Continue for u₃.',
    solutionSteps: [
      'u₁ = v₁/‖v₁‖ = (1,1,1)/√3',
      'w₂ = v₂ - ⟨v₂,u₁⟩u₁ = (1,1,0) - (2/√3)(1/√3)(1,1,1)',
      'u₂ = w₂/‖w₂‖',
      'Continue similarly for w₃ and u₃',
    ],
    evidence: {
      examFrequency: 6,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 98,
      topicCentrality: 95,
      reasoningHe: 'גרם-שמידט - שאלה שמופיעה כמעט בכל מבחן! קריטי!',
    },
  },
  {
    id: 'hw-12-4',
    question: 'Find the least squares solution to x + y = 1, 2x - y = 3, x + 2y = 0.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 4,
    topic: 'least-squares',
    weekNumber: 12,
    difficulty: 'medium',
    relatedTheorems: ['thm-least-squares'],
    relatedDefinitions: [],
    homeworkNumber: 12,
    questionNumber: '4',
    likelihoodScore: 92,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: ['exam-2024-25-A-q4'],
    solution: 'A = [[1,1],[2,-1],[1,2]], b = (1,3,0). Solve AᵀAx̂ = Aᵀb for x̂.',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 92,
      topicCentrality: 90,
      reasoningHe: 'ריבועים פחותים - נושא קריטי, מופיע במבחנים אחרונים!',
    },
  },
]

// ══════════════════════════════════════════════════════════════════
// Helper Functions - פונקציות עזר
// ══════════════════════════════════════════════════════════════════

// Get homework by week
export function getHomeworkByWeek(weekNumber: number): HomeworkQuestion[] {
  return homeworkData.filter(hw => hw.weekNumber === weekNumber)
}

// Get high-likelihood homework (score >= 80)
export function getHighLikelihoodHomework(): HomeworkQuestion[] {
  return homeworkData
    .filter(hw => hw.likelihoodScore >= 80)
    .sort((a, b) => b.likelihoodScore - a.likelihoodScore)
}

// Get homework by likelihood level
export function getHomeworkByLikelihoodLevel(level: LikelihoodLevel): HomeworkQuestion[] {
  return homeworkData
    .filter(hw => hw.likelihoodLevel === level)
    .sort((a, b) => b.likelihoodScore - a.likelihoodScore)
}

// Get homework by topic
export function getHomeworkByTopic(topic: LinearAlgebraTopic): HomeworkQuestion[] {
  return homeworkData.filter(hw => hw.topic === topic)
}

// Get homework with exam appearances
export function getHomeworkWithExamAppearances(): HomeworkQuestion[] {
  return homeworkData
    .filter(hw => hw.examAppearances > 0)
    .sort((a, b) => b.examAppearances - a.examAppearances)
}

// Get top N homework by likelihood
export function getTopHomework(n: number = 10): HomeworkQuestion[] {
  return [...homeworkData]
    .sort((a, b) => b.likelihoodScore - a.likelihoodScore)
    .slice(0, n)
}

// Statistics
export function getHomeworkStats() {
  const total = homeworkData.length
  const byLevel = {
    'גבוהה מאוד': homeworkData.filter(h => h.likelihoodLevel === 'גבוהה מאוד').length,
    'גבוהה': homeworkData.filter(h => h.likelihoodLevel === 'גבוהה').length,
    'בינונית': homeworkData.filter(h => h.likelihoodLevel === 'בינונית').length,
    'נמוכה': homeworkData.filter(h => h.likelihoodLevel === 'נמוכה').length,
  }
  const withExamAppearances = homeworkData.filter(h => h.examAppearances > 0).length
  const avgScore = Math.round(homeworkData.reduce((sum, h) => sum + h.likelihoodScore, 0) / total)

  return { total, byLevel, withExamAppearances, avgScore }
}
