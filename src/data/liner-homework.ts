// Linear Algebra Homework Data with Evidence-Based Likelihood Scoring
// שאלות שיעורי בית עם ציוני סבירות מבוססי-ראיות
// Based on: HW 1-12 from LINER/hw folder + exam pattern analysis
// CORRECTED: Question numbers match actual PDF homework files

import type { HomeworkQuestion, LinearAlgebraTopic, LikelihoodLevel } from '@/types'

// Likelihood level helper
function getLikelihoodLevel(score: number): LikelihoodLevel {
  if (score >= 90) return 'גבוהה מאוד'
  if (score >= 75) return 'גבוהה'
  if (score >= 50) return 'בינונית'
  return 'נמוכה'
}

export const homeworkData: HomeworkQuestion[] = [
  // ══════════════════════════════════════════════════════════════════
  // HW 1 - שדות (Ex1_Lin_Alg_1_2025-2026_sol.pdf)
  // Q1: הגדרות, Q2: הוכחות שדה, Q3: עוד הוכחות, Q4: בניית שדה, Q5: תת-שדה
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-1-1',
    question: 'Let F be a set with +,·. Define: multiplication is not associative. Define: cancellation law fails.',
    source: 'Ex1_Lin_Alg_1_2025-2026_sol.pdf',
    pageNumber: 1,
    topic: 'fields',
    weekNumber: 1,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 1,
    questionNumber: '1',
    likelihoodScore: 50,
    likelihoodLevel: 'בינונית',
    examAppearances: 0,
    similarExamQuestions: [],
    solution: 'Not associative: ∃x,y,z ∈ F such that (x·y)·z ≠ x·(y·z). Cancellation fails: ∃x,y,z ∈ F such that x+z=y+z and x≠y.',
    evidence: {
      examFrequency: 0,
      examYears: [],
      patternSimilarity: 30,
      topicCentrality: 40,
      reasoningHe: 'הגדרות בסיסיות של שדות, לא מופיע ישירות במבחנים.',
    },
  },
  {
    id: 'hw-1-2',
    question: 'Let F be a field, x,y ∈ F. Prove: (a) x-y=0 ⟹ x=y, (b) x²=x ⟹ x=0 or x=1, (c) (x+y)(x-y)=x²-y².',
    source: 'Ex1_Lin_Alg_1_2025-2026_sol.pdf',
    pageNumber: 1,
    topic: 'fields',
    weekNumber: 1,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 1,
    questionNumber: '2',
    likelihoodScore: 65,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: '(a) x+(−y)=0=y+(−y), by cancellation x=y. (b) x²−x=0 ⟹ x(x−1)=0, no zero divisors ⟹ x=0 or x=1. (c) Expand using distributivity, associativity, commutativity.',
    evidence: {
      examFrequency: 1,
      examYears: ['2023-24'],
      patternSimilarity: 55,
      topicCentrality: 60,
      reasoningHe: 'הוכחות בסיסיות בשדות. חשוב להבנת יסודות.',
    },
  },
  {
    id: 'hw-1-4',
    question: 'Construct a field with four elements. Define +,· tables and verify axioms.',
    source: 'Ex1_Lin_Alg_1_2025-2026_sol.pdf',
    pageNumber: 3,
    topic: 'fields',
    weekNumber: 1,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 1,
    questionNumber: '4',
    likelihoodScore: 55,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: 'F₄ = {0,1,a,b}. Build addition and multiplication tables satisfying all field axioms.',
    evidence: {
      examFrequency: 1,
      examYears: ['2023-24'],
      patternSimilarity: 45,
      topicCentrality: 50,
      reasoningHe: 'בניית שדה סופי - שאלה מתקדמת, הופיעה פעם.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 2 - מספרים מרוכבים ומבני שדה (Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf)
  // Q1: חשבון מרוכבים, Q2: הוכחות מרוכבים, Q3: R² כשדה, Q4: מחלקי אפס, Q5-Q6: הוכח/הפרך
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-2-1',
    question: 'Find a,b ∈ ℝ for z=a+bi: (a) z=(2+3i)(1-i), (b) z=(1+i)⁴, (c) z=(3+4i)/(1-2i), (d) z=i²⁰²⁵.',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 1,
    topic: 'fields',
    weekNumber: 2,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 2,
    questionNumber: '1',
    likelihoodScore: 50,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: '(a) 5+i, (b) -4, (c) (-5+10i)/5 = -1+2i, (d) i²⁰²⁵ = i^(4·506+1) = i.',
    evidence: {
      examFrequency: 1,
      examYears: ['2022-23'],
      patternSimilarity: 40,
      topicCentrality: 45,
      reasoningHe: 'חשבון מספרים מרוכבים בסיסי.',
    },
  },
  {
    id: 'hw-2-3',
    question: 'Consider ℝ² with (a₁,a₂)+(b₁,b₂)=(a₁+b₁,a₂+b₂) and custom multiplication. Is it a field?',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 2,
    topic: 'fields',
    weekNumber: 2,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 2,
    questionNumber: '3',
    likelihoodScore: 60,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: 'Check all field axioms with the given operations. Key: verify multiplicative inverses exist.',
    evidence: {
      examFrequency: 1,
      examYears: ['2022-23'],
      patternSimilarity: 55,
      topicCentrality: 60,
      reasoningHe: 'בדיקת אקסיומות שדה על R² - דפוס מבחני.',
    },
  },
  {
    id: 'hw-2-4',
    question: 'Zero divisors: Student X explored structures that are "almost a field". Identify zero divisors.',
    source: 'Lin_Alg_I_2025-2026_Homework_2_Solutions.pdf',
    pageNumber: 3,
    topic: 'fields',
    weekNumber: 2,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-field'],
    homeworkNumber: 2,
    questionNumber: '4',
    likelihoodScore: 55,
    likelihoodLevel: 'בינונית',
    examAppearances: 1,
    similarExamQuestions: [],
    solution: 'Find a,b≠0 with a·b=0. Fields have no zero divisors; Zₙ for composite n has zero divisors.',
    evidence: {
      examFrequency: 1,
      examYears: ['2024-25'],
      patternSimilarity: 50,
      topicCentrality: 55,
      reasoningHe: 'מחלקי אפס - קשור להבנת שדות.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 3 - מערכות משוואות ודירוג (Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf)
  // Q1-Q2: דירוג גאוס, Q3: מציאת מערכות, Q4: חשבון מודולרי, Q5-Q6: הוכח/הפרך
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-3-2',
    question: 'Solve systems of linear equations using Gaussian elimination. Find RREF and solution sets.',
    source: 'Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf',
    pageNumber: 1,
    topic: 'systems-of-equations',
    weekNumber: 3,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 3,
    questionNumber: '2',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 5,
    similarExamQuestions: ['exam-2022-23-A-q1', 'exam-2023-24-A-q1'],
    solution: 'Apply row operations to get echelon/RREF form. Identify free variables. Write solution as particular + homogeneous.',
    solutionSteps: [
      'Form augmented matrix [A|b]',
      'Apply row operations to reach RREF',
      'Identify pivot and free variables',
      'Express solution set',
    ],
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 90,
      topicCentrality: 90,
      reasoningHe: 'פתרון מערכות בדירוג גאוס - שאלה בסיסית בכל מבחן!',
    },
  },
  {
    id: 'hw-3-3',
    question: 'Find a linear system for each case: (a) unique solution, (b) no solution, (c) infinite solutions with 1 free var.',
    source: 'Lin_Alg_I_2025-2026_Homework_3_Solutions.pdf',
    pageNumber: 2,
    topic: 'systems-of-equations',
    weekNumber: 3,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 3,
    questionNumber: '3',
    likelihoodScore: 82,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: '(a) Full rank system. (b) Inconsistent row in RREF. (c) One free variable ⟹ n-rank(A)=1.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 80,
      topicCentrality: 82,
      reasoningHe: 'הבנת תנאי פתירות מערכות - מופיע במבחנים.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 4 - מרחבים וקטוריים ותת-מרחבים (Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf)
  // Q1: לא מ"ו, Q2: הוכחת ת"מ, Q3: קריטריון ת"מ, Q4: חיתוך/איחוד, Q5: R+ מ"ו, Q6: איחוד ת"מ
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-4-1',
    question: 'Prove each set is NOT a vector space over ℝ: (a) V=∅, (b) V={(x,y): x≥0}, (c) V=ℝ² with custom ops.',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 1,
    topic: 'vector-spaces',
    weekNumber: 4,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-vector-space'],
    homeworkNumber: 4,
    questionNumber: '1',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: ['exam-2022-23-B-q1'],
    solution: '(a) No zero vector. (b) Not closed under scalar mult: -1·(1,1)=(-1,-1)∉V. (c) Find violated axiom.',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2023-24'],
      patternSimilarity: 85,
      topicCentrality: 88,
      reasoningHe: 'הוכחה שקבוצה אינה מ״ו - דפוס קלאסי במבחנים!',
    },
  },
  {
    id: 'hw-4-2',
    question: 'Prove each set is a vector subspace: (a) {(x,y,z): x+y+z=0}, (b) symmetric matrices in M₂(ℝ).',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 2,
    topic: 'subspaces',
    weekNumber: 4,
    difficulty: 'medium',
    relatedTheorems: ['thm-intersection-subspace'],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 4,
    questionNumber: '2',
    likelihoodScore: 95,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 6,
    similarExamQuestions: ['exam-2022-23-A-q1', 'exam-2023-24-B-q1'],
    solution: 'Check 3 conditions: (1) 0∈W, (2) closed under +, (3) closed under scalar mult. For (a): 0+0+0=0✓; if x+y+z=0 and x\'+y\'+z\'=0, then sum=0✓.',
    solutionSteps: [
      'Check 0 ∈ W',
      'Check closure under addition',
      'Check closure under scalar multiplication',
    ],
    evidence: {
      examFrequency: 6,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 98,
      topicCentrality: 95,
      reasoningHe: 'הוכחת תת-מרחב - השאלה הכי נפוצה! מופיעה כמעט בכל מבחן!',
    },
  },
  {
    id: 'hw-4-4',
    question: 'Let U,W be subspaces of V with U⊆W or W⊆U. Prove U∪W is a subspace. Show converse too.',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 3,
    topic: 'subspaces',
    weekNumber: 4,
    difficulty: 'hard',
    relatedTheorems: ['thm-intersection-subspace'],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 4,
    questionNumber: '4',
    likelihoodScore: 82,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: ['exam-2022-23-B-q1'],
    solution: 'If U⊆W then U∪W=W, a subspace. Converse: if U∪W is subspace, take u∈U\\W, w∈W\\U, then u+w must be in U or W, leading to contradiction.',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 80,
      topicCentrality: 85,
      reasoningHe: 'איחוד תת-מרחבים - שאלת הוכחה קלאסית.',
    },
  },
  {
    id: 'hw-4-6',
    question: 'Can a vector space be written as a non-trivial union of two proper subspaces? Prove or disprove.',
    source: 'Lin_Alg_I_2025-2026_Homework_4_Solutions.pdf',
    pageNumber: 5,
    topic: 'subspaces',
    weekNumber: 4,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: ['def-subspace'],
    homeworkNumber: 4,
    questionNumber: '6',
    likelihoodScore: 78,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: 'Over infinite fields: No (proof by contradiction using u+w argument). Over F₂: Yes, e.g. F₂²=Sp{e₁}∪Sp{e₂}∪Sp{e₁+e₂}.',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 72,
      topicCentrality: 75,
      reasoningHe: 'שאלה תיאורטית על איחוד תת-מרחבים - שאלת בונוס אפשרית.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 5 - פרישה (Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf)
  // Q1: תכונות Span, Q2: מציאת קבוצות פורשות, Q3: "הטיית" ישר, Q4: עוד Span
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-5-1',
    question: 'Prove/disprove: (a) Sp{v₁}⊆Sp{v₂,v₃} ⟹ v₁∈Sp{v₂} or v₁∈Sp{v₃}. (b) v∈Sp{v₁,v₂,v₃}, v∉Sp{v₁,v₂} ⟹ v₃∉Sp{v₁,v₂}.',
    source: 'Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf',
    pageNumber: 1,
    topic: 'span',
    weekNumber: 5,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-span'],
    homeworkNumber: 5,
    questionNumber: '1',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: ['exam-2023-24-A-q1'],
    solution: '(a) False. v₁=(1,1), v₂=(1,0), v₃=(0,1). v₁∈Sp{v₂,v₃} but v₁∉Sp{v₂} and v₁∉Sp{v₃}. (b) True. If v₃∈Sp{v₁,v₂} then Sp{v₁,v₂,v₃}=Sp{v₁,v₂}, contradiction.',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 90,
      topicCentrality: 88,
      reasoningHe: 'תכונות פרישה - הוכח/הפרך שחוזר כמעט בכל מבחן!',
    },
  },
  {
    id: 'hw-5-2',
    question: 'For each set, prove it is a vector space by finding a spanning set.',
    source: 'Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf',
    pageNumber: 2,
    topic: 'span',
    weekNumber: 5,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-span'],
    homeworkNumber: 5,
    questionNumber: '2',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Express elements as linear combinations. Show V=Sp{generating set}. Verify spanning set is in V.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 82,
      topicCentrality: 85,
      reasoningHe: 'מציאת קבוצה פורשת - נדרש בחלק ניכר מהמבחנים.',
    },
  },
  {
    id: 'hw-5-4',
    question: 'Let v₁,v₂,v₃,v,w ∈ V, v₃∈Sp{v₁,v₂}, v∈Sp{v₁,v₂,v₃}. Prove: Sp{v₁,v₂,v,w}=Sp{v₁,v₂,w}.',
    source: 'Lin_Alg_I_2025-2026_Homework_5_Solutions.pdf',
    pageNumber: 4,
    topic: 'span',
    weekNumber: 5,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: ['def-span'],
    homeworkNumber: 5,
    questionNumber: '4',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: 'Since v₃∈Sp{v₁,v₂} and v∈Sp{v₁,v₂,v₃}=Sp{v₁,v₂}, removing v₃ and v doesn\'t change the span.',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 78,
      topicCentrality: 80,
      reasoningHe: 'מניפולציות על פרישות - הוכחה מתקדמת.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 6 - תלות/אי-תלות לינארית (LA1_2024-25_Homework_6_Solution.pdf)
  // Q1: הוכחות ת"ל/בת"ל, Q2: וקטורים מעל Z₅, Q4-Q6: הוכחות מתקדמות
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-6-1a',
    question: 'Prove u₁=(1,-3,2), u₂=(2,-1,1), u₃=(3,-4,3) are linearly dependent in ℝ³.',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 1,
    topic: 'linear-independence',
    weekNumber: 6,
    difficulty: 'easy',
    relatedTheorems: ['thm-dependence-one-combination'],
    relatedDefinitions: ['def-linear-independence'],
    homeworkNumber: 6,
    questionNumber: '1a',
    likelihoodScore: 92,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'u₁ + u₂ = u₃, so u₁ + u₂ - u₃ = 0. Non-trivial combination ⟹ dependent.',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 95,
      reasoningHe: 'הוכחת תלות לינארית - שאלה בסיסית בכל מבחן!',
    },
  },
  {
    id: 'hw-6-1b',
    question: 'Prove w₁=(1,0,i), w₂=(i,1,1), w₃=(1,i,0) are linearly independent in ℂ³.',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 1,
    topic: 'linear-independence',
    weekNumber: 6,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: ['def-linear-independence'],
    homeworkNumber: 6,
    questionNumber: '1b',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Form coefficient matrix, row reduce. det ≠ 0 ⟹ only trivial solution ⟹ independent.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 88,
      topicCentrality: 90,
      reasoningHe: 'בת״ל מעל C - שאלה שמופיעה במבחנים.',
    },
  },
  {
    id: 'hw-6-2',
    question: 'Let α∈Z₅. For which values of α are u₁,u₂,u₃ ∈ Z₅³ linearly independent?',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 2,
    topic: 'linear-independence',
    weekNumber: 6,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: ['def-linear-independence'],
    homeworkNumber: 6,
    questionNumber: '2',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: ['exam-2024-25-A-q1'],
    solution: 'Row reduce the matrix of vectors over Z₅. Find which α values give full rank (all pivots).',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 78,
      topicCentrality: 80,
      reasoningHe: 'בת״ל מעל Z₅ עם פרמטר - שאלה מתקדמת.',
    },
  },
  {
    id: 'hw-6-4',
    question: 'Let v₁,...,vₖ,u,v ∈ V. If {v₁,...,vₖ,u} is l.i. and v∈Sp{v₁,...,vₖ}, prove {v₁,...,vₖ,u+v} is l.i.',
    source: 'LA1_2024-25_Homework_6_Solution.pdf',
    pageNumber: 3,
    topic: 'linear-independence',
    weekNumber: 6,
    difficulty: 'hard',
    relatedTheorems: ['thm-extend-independent'],
    relatedDefinitions: ['def-linear-independence'],
    homeworkNumber: 6,
    questionNumber: '4',
    likelihoodScore: 84,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: ['exam-2024-25-A-q1'],
    solution: 'Assume α₁v₁+...+αₖvₖ+β(u+v)=0. Since v=Σcᵢvᵢ: (α₁+βc₁)v₁+...+βu=0. By independence of {v₁,...,vₖ,u}, β=0, then all αᵢ=0.',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 82,
      topicCentrality: 85,
      reasoningHe: 'הוכחת שמירת בת״ל תחת החלפת וקטור - דפוס מתקדם.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 8 - כפל מטריצות, בסיס ומימד (LA1_2025-26_Homework_8_Solutions.pdf)
  // Q1: כפל מטריצות, Q2: הוכחות כפל, Q3: בסיס ומימד, Q4: נוסחת המימדים
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-8-1',
    question: 'State distributivity and associativity for matrices. Compute given matrix products.',
    source: 'LA1_2025-26_Homework_8_Solutions.pdf',
    pageNumber: 1,
    topic: 'other',
    weekNumber: 8,
    difficulty: 'easy',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 8,
    questionNumber: '1',
    likelihoodScore: 70,
    likelihoodLevel: 'בינונית',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: 'Distributivity: (A₂+A₃)A₁ = A₂A₁+A₃A₁. Associativity: (CA)B = C(AB). Compute products directly.',
    evidence: {
      examFrequency: 2,
      examYears: ['2022-23'],
      patternSimilarity: 65,
      topicCentrality: 70,
      reasoningHe: 'כפל מטריצות בסיסי - חשוב אך לא שאלה עיקרית במבחן.',
    },
  },
  {
    id: 'hw-8-3',
    question: 'Consider subspaces W₁,W₂ of V. Find basis and dimension. Verify dimension formula.',
    source: 'LA1_2025-26_Homework_8_Solutions.pdf',
    pageNumber: 3,
    topic: 'basis',
    weekNumber: 8,
    difficulty: 'medium',
    relatedTheorems: ['thm-extend-to-basis'],
    relatedDefinitions: ['def-basis', 'def-dimension'],
    homeworkNumber: 8,
    questionNumber: '3',
    likelihoodScore: 93,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 6,
    similarExamQuestions: ['exam-2022-23-A-q2', 'exam-2023-24-B-q1'],
    solution: 'Find basis for each subspace, compute dims. Verify: dim(W₁+W₂) = dim(W₁)+dim(W₂)-dim(W₁∩W₂).',
    solutionSteps: [
      'Find basis for W₁ and W₂',
      'Compute intersection W₁∩W₂',
      'Apply dimension formula',
    ],
    evidence: {
      examFrequency: 6,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 98,
      reasoningHe: 'בסיס, מימד ונוסחת המימדים - שאלה קריטית בכל מבחן!',
    },
  },
  {
    id: 'hw-8-4',
    question: 'Prove: dim(W₁+W₂) = dim(W₁)+dim(W₂)-dim(W₁∩W₂). Prove/disprove related statements.',
    source: 'LA1_2025-26_Homework_8_Solutions.pdf',
    pageNumber: 4,
    topic: 'dimension',
    weekNumber: 8,
    difficulty: 'hard',
    relatedTheorems: ['thm-dimension-formula'],
    relatedDefinitions: ['def-dimension'],
    homeworkNumber: 8,
    questionNumber: '4',
    likelihoodScore: 90,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'Start with basis for intersection, extend to bases of W₁ and W₂, show union spans W₁+W₂ and is independent.',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 92,
      topicCentrality: 95,
      reasoningHe: 'נוסחת המימדים והוכחתה - שאלה מרכזית במבחנים!',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 9 - הפיכות מטריצות (LA1_2025-26_Homework_9_Solutions.pdf)
  // Q1: חישוב הופכיות, Q2: הפיכות עם פרמטר, Q3: הוכח/הפרך, Q4-Q6: תיאוריה
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-9-1',
    question: 'Compute the inverse of each matrix, or prove it is not invertible.',
    source: 'LA1_2025-26_Homework_9_Solutions.pdf',
    pageNumber: 1,
    topic: 'other',
    weekNumber: 9,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 9,
    questionNumber: '1',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: [],
    solution: 'Use row reduction on [A|I]. If A reduces to I, then the right side is A⁻¹. If a zero row appears, A is not invertible.',
    solutionSteps: [
      'Set up [A|I₃]',
      'Apply row operations',
      'If left side → I₃, right side = A⁻¹',
      'If zero row on left, not invertible',
    ],
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 88,
      topicCentrality: 85,
      reasoningHe: 'חישוב הופכי מטריצה - שאלה סטנדרטית במבחנים!',
    },
  },
  {
    id: 'hw-9-2',
    question: 'Let α∈ℝ. For which α is the matrix A invertible? When invertible, find A⁻¹.',
    source: 'LA1_2025-26_Homework_9_Solutions.pdf',
    pageNumber: 2,
    topic: 'other',
    weekNumber: 9,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 9,
    questionNumber: '2',
    likelihoodScore: 90,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'Row reduce [A|I] with parameter α. Find α values that create zero row (not invertible). Otherwise express A⁻¹ in terms of α.',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 92,
      topicCentrality: 90,
      reasoningHe: 'הפיכות מטריצה עם פרמטר - דפוס שחוזר בכל מבחן!',
    },
  },
  {
    id: 'hw-9-3',
    question: 'Prove/disprove: (a) If AB invertible, then A,B invertible. (b) If A²=I then A invertible.',
    source: 'LA1_2025-26_Homework_9_Solutions.pdf',
    pageNumber: 2,
    topic: 'other',
    weekNumber: 9,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 9,
    questionNumber: '3',
    likelihoodScore: 86,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: [],
    solution: '(a) True. (AB)⁻¹ exists, so B(AB)⁻¹ is right inverse of A, A(AB)⁻¹ doesn\'t work directly, but use left/right inverse theory. (b) True. A²=I ⟹ A·A=I ⟹ A⁻¹=A.',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 85,
      topicCentrality: 88,
      reasoningHe: 'הוכחות הפיכות - דפוס הוכח/הפרך מרכזי במבחנים!',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 10 - הפיכות, מערכות שקולות, עקבה (LA1_2025-26_Homework_10_Solutions.pdf)
  // Q1: מערכות שקולות, Q2: A+B=A³, Q3: דרגה 1/אנטי-סימטרי, Q4: אידמפוטנט, Q5-Q6: עקבה
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-10-1',
    question: 'Let P invertible. Prove/disprove: (a) Ax=0 and (PA)x=0 are equivalent. (b) Ax=b and PAx=b are equivalent.',
    source: 'LA1_2025-26_Homework_10_Solutions.pdf',
    pageNumber: 1,
    topic: 'systems-of-equations',
    weekNumber: 10,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 10,
    questionNumber: '1',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: '(a) True. If Ax=0 then (PA)x=P(Ax)=P0=0. Conversely, (PA)x=0 ⟹ P⁻¹(PA)x=Ax=0. (b) False. Counterexample with 2×2 matrices.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 82,
      topicCentrality: 85,
      reasoningHe: 'שקילות מערכות עם מטריצה הפיכה - דפוס מבחני.',
    },
  },
  {
    id: 'hw-10-2',
    question: 'Let A,B∈Mₙ(F) with A+B=A³. (a) Prove: B invertible ⟹ A invertible. (b) Related kernel question.',
    source: 'LA1_2025-26_Homework_10_Solutions.pdf',
    pageNumber: 2,
    topic: 'other',
    weekNumber: 10,
    difficulty: 'hard',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 10,
    questionNumber: '2',
    likelihoodScore: 78,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: '(a) B=A³-A=A(A²-I). B invertible ⟹ A has right inverse (A²-I)B⁻¹. Square matrix with right inverse is invertible.',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 75,
      topicCentrality: 78,
      reasoningHe: 'הוכחת הפיכות ממשוואה מטריצית - שאלה מתקדמת.',
    },
  },
  {
    id: 'hw-10-4',
    question: 'Let A∈Mₙ(ℝ) with A²=A (idempotent). Prove properties of A and I-A.',
    source: 'LA1_2025-26_Homework_10_Solutions.pdf',
    pageNumber: 3,
    topic: 'other',
    weekNumber: 10,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 10,
    questionNumber: '4',
    likelihoodScore: 82,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'A²=A ⟹ (I-A)²=I-2A+A²=I-2A+A=I-A. Also rank(A)+rank(I-A)=n.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 80,
      topicCentrality: 82,
      reasoningHe: 'מטריצות אידמפוטנטיות - נושא שחוזר במבחנים.',
    },
  },
  {
    id: 'hw-10-6',
    question: 'Trace properties: tr(AB)=tr(BA), tr(A+B)=tr(A)+tr(B), and related proofs.',
    source: 'LA1_2025-26_Homework_10_Solutions.pdf',
    pageNumber: 5,
    topic: 'other',
    weekNumber: 10,
    difficulty: 'medium',
    relatedTheorems: [],
    relatedDefinitions: [],
    homeworkNumber: 10,
    questionNumber: '6',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'tr(AB)=Σᵢ(AB)ᵢᵢ=ΣᵢΣⱼaᵢⱼbⱼᵢ=ΣⱼΣᵢbⱼᵢaᵢⱼ=Σⱼ(BA)ⱼⱼ=tr(BA).',
    evidence: {
      examFrequency: 3,
      examYears: ['2022-23', '2024-25'],
      patternSimilarity: 78,
      topicCentrality: 80,
      reasoningHe: 'תכונות עקבה - מופיע במבחנים אחרונים.',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 11 - דטרמיננטות (LA1_2025-26_Homework_11_Solutions.pdf)
  // Q1: חישוב מעל Z₅, Q3: הוכח/הפרך, Q4: פונקציונלים מולטי-לינאריים
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-11-1',
    question: 'Let α∈Z₅. Compute det(A) for A∈M₅(Z₅). Find α for which A is singular.',
    source: 'LA1_2025-26_Homework_11_Solutions.pdf',
    pageNumber: 1,
    topic: 'determinants',
    weekNumber: 11,
    difficulty: 'hard',
    relatedTheorems: ['thm-det-row-ops'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 11,
    questionNumber: '1',
    likelihoodScore: 88,
    likelihoodLevel: 'גבוהה',
    examAppearances: 4,
    similarExamQuestions: [],
    solution: 'Row reduce over Z₅ (all arithmetic mod 5). det≠0 ⟹ invertible. Find α where det=0.',
    evidence: {
      examFrequency: 4,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 88,
      topicCentrality: 90,
      reasoningHe: 'דטרמיננטה עם פרמטר מעל Z₅ - דפוס מבחני!',
    },
  },
  {
    id: 'hw-11-3',
    question: 'Prove/disprove statements about determinants: det(A+B), det(cA), det(Aᵀ).',
    source: 'LA1_2025-26_Homework_11_Solutions.pdf',
    pageNumber: 3,
    topic: 'determinants',
    weekNumber: 11,
    difficulty: 'medium',
    relatedTheorems: ['thm-det-product', 'thm-det-transpose'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 11,
    questionNumber: '3',
    likelihoodScore: 90,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 5,
    similarExamQuestions: [],
    solution: 'det(cA)=cⁿdet(A). det(Aᵀ)=det(A). det(A+B)≠det(A)+det(B) in general (counterexample).',
    evidence: {
      examFrequency: 5,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 92,
      topicCentrality: 92,
      reasoningHe: 'תכונות דטרמיננטה - שאלה שחוזרת כמעט בכל מבחן!',
    },
  },

  // ══════════════════════════════════════════════════════════════════
  // HW 12 - חישובי דטרמיננטות (LA1_2025-26_Homework_12_Solutions.pdf)
  // Q1: חישוב דטרמיננטות, Q2: מטריצות תלת-אלכסוניות, Q4-Q6: נוסחאות מתקדמות
  // ══════════════════════════════════════════════════════════════════
  {
    id: 'hw-12-1',
    question: 'Compute the determinant of given 4×4 and 5×5 matrices using cofactor expansion.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 1,
    topic: 'determinants',
    weekNumber: 12,
    difficulty: 'medium',
    relatedTheorems: ['thm-det-row-ops'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 12,
    questionNumber: '1',
    likelihoodScore: 92,
    likelihoodLevel: 'גבוהה מאוד',
    examAppearances: 6,
    similarExamQuestions: [],
    solution: 'Choose row/column with most zeros. Apply cofactor expansion: det(A) = Σⱼ (-1)^(i+j) aᵢⱼ Mᵢⱼ.',
    solutionSteps: [
      'Choose row/column for expansion (prefer zeros)',
      'Compute cofactors',
      'Sum: det = Σ (-1)^(i+j) · a_ij · M_ij',
    ],
    evidence: {
      examFrequency: 6,
      examYears: ['2022-23', '2023-24', '2024-25'],
      patternSimilarity: 95,
      topicCentrality: 92,
      reasoningHe: 'חישוב דטרמיננטה בפיתוח קופקטורים - שאלה בכל מבחן!',
    },
  },
  {
    id: 'hw-12-2',
    question: 'Compute det of n×n tridiagonal matrix A with specific pattern. Find recurrence relation.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 2,
    topic: 'determinants',
    weekNumber: 12,
    difficulty: 'hard',
    relatedTheorems: ['thm-det-row-ops'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 12,
    questionNumber: '2',
    likelihoodScore: 85,
    likelihoodLevel: 'גבוהה',
    examAppearances: 3,
    similarExamQuestions: [],
    solution: 'Expand along first row: det(Aₙ) = a·det(Aₙ₋₁) - bc·det(Aₙ₋₂). Solve recurrence.',
    evidence: {
      examFrequency: 3,
      examYears: ['2023-24', '2024-25'],
      patternSimilarity: 82,
      topicCentrality: 85,
      reasoningHe: 'דטרמיננטה של מטריצה תלת-אלכסונית - דפוס מתקדם.',
    },
  },
  {
    id: 'hw-12-5',
    question: 'Compute det of n×n matrix with specific pattern. Use row operations and induction.',
    source: 'LA1_2025-26_Homework_12_Solutions.pdf',
    pageNumber: 4,
    topic: 'determinants',
    weekNumber: 12,
    difficulty: 'hard',
    relatedTheorems: ['thm-det-row-ops'],
    relatedDefinitions: ['def-determinant'],
    homeworkNumber: 12,
    questionNumber: '5',
    likelihoodScore: 80,
    likelihoodLevel: 'גבוהה',
    examAppearances: 2,
    similarExamQuestions: [],
    solution: 'Apply row operations to simplify. Use induction on n for the general formula.',
    evidence: {
      examFrequency: 2,
      examYears: ['2024-25'],
      patternSimilarity: 78,
      topicCentrality: 80,
      reasoningHe: 'דטרמיננטה כללית עם אינדוקציה - שאלה מתקדמת.',
    },
  },
]

// ══════════════════════════════════════════════════════════════════
// Helper Functions - פונקציות עזר
// ══════════════════════════════════════════════════════════════════

// Get homework by week
export function getHomeworkByWeek(weekNumber: number): HomeworkQuestion[] {
  return homeworkData.filter(hw => hw.weekNumber === weekNumber)
}

// Get high-likelihood homework (score >= 80)
export function getHighLikelihoodHomework(): HomeworkQuestion[] {
  return homeworkData
    .filter(hw => hw.likelihoodScore >= 80)
    .sort((a, b) => b.likelihoodScore - a.likelihoodScore)
}

// Get homework by likelihood level
export function getHomeworkByLikelihoodLevel(level: LikelihoodLevel): HomeworkQuestion[] {
  return homeworkData
    .filter(hw => hw.likelihoodLevel === level)
    .sort((a, b) => b.likelihoodScore - a.likelihoodScore)
}

// Get homework by topic
export function getHomeworkByTopic(topic: LinearAlgebraTopic): HomeworkQuestion[] {
  return homeworkData.filter(hw => hw.topic === topic)
}

// Get homework with exam appearances
export function getHomeworkWithExamAppearances(): HomeworkQuestion[] {
  return homeworkData
    .filter(hw => hw.examAppearances > 0)
    .sort((a, b) => b.examAppearances - a.examAppearances)
}

// Get top N homework by likelihood
export function getTopHomework(n: number = 10): HomeworkQuestion[] {
  return [...homeworkData]
    .sort((a, b) => b.likelihoodScore - a.likelihoodScore)
    .slice(0, n)
}

// Statistics
export function getHomeworkStats() {
  const total = homeworkData.length
  const byLevel = {
    'גבוהה מאוד': homeworkData.filter(h => h.likelihoodLevel === 'גבוהה מאוד').length,
    'גבוהה': homeworkData.filter(h => h.likelihoodLevel === 'גבוהה').length,
    'בינונית': homeworkData.filter(h => h.likelihoodLevel === 'בינונית').length,
    'נמוכה': homeworkData.filter(h => h.likelihoodLevel === 'נמוכה').length,
  }
  const withExamAppearances = homeworkData.filter(h => h.examAppearances > 0).length
  const avgScore = Math.round(homeworkData.reduce((sum, h) => sum + h.likelihoodScore, 0) / total)

  return { total, byLevel, withExamAppearances, avgScore }
}
